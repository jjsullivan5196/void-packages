# Template file for 'squeekboard'
pkgname=squeekboard
version=1.9.3
revision=1
wrksrc="${pkgname}-v${version}"
build_style=meson
build_helper=rust
hostmakedepends="cargo pkg-config glib-devel wayland-devel"
makedepends="rust gtk+3-devel feedbackd gnome-desktop-devel"
short_desc="Onscreen keyboard for mobile devices - Used in GNOME Phosh"
maintainer="John Sullivan <jsullivan@csumb.edu>"
license="GPL-3.0-or-later"
homepage="https://source.puri.sm/Librem5/squeekboard"
distfiles="${homepage}/-/archive/v${version}/${pkgname}-v${version}.tar.gz"
checksum=b99e56faace3986bf752e08c104cea60ed896d514284840655033dd9457db824

post_patch() {
	[ -z "${CROSS_BUILD}" ] && return 0

	vsed -i cargo_build.sh \
		-e 's/\${BINARY_DIR}/${RUST_TARGET}\/debug/'
}
